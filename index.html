<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>MaiAgent å…§å»ºå·¥å…·é›†</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 700px;
      margin: 40px auto;
      padding: 20px;
      background: #f9f9f9;
    }
    h2 {
      font-size: 24px;
    }
    .tool-card {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }
    .tool-card button {
      background-color: #4f46e5;
      color: white;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .tool-card button:hover {
      background-color: #3730a3;
    }
    #category-filter button {
      margin-right: 8px;
      margin-bottom: 8px;
      padding: 6px 10px;
      border: none;
      border-radius: 5px;
      background-color: #e0e7ff;
      cursor: pointer;
    }
    #category-filter button:hover {
      background-color: #c7d2fe;
    }
    #modal {
      position: fixed;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      width: 500px;
      max-height: 80vh;
      overflow-y: auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      padding: 20px;
      display: none;
      z-index: 999;
    }
    #modal h3 {
      margin-top: 0;
    }
    #modal button {
      margin-top: 20px;
    }
    #overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.4);
      display: none;
      z-index: 998;
    }
  </style>
</head>
<body>

  <h2>ğŸ”§ å…§å»ºå·¥å…·é›†</h2>
  <input type="text" placeholder="æœå°‹å·¥å…·åç¨±ã€ç”¨é€”â€¦" style="width:100%;padding:8px;margin-bottom:20px;" oninput="filterBySearch(this.value)" />
  <div id="category-filter" style="margin-bottom: 20px;">
    <button onclick="filterByCategory('å…¨éƒ¨')">å…¨éƒ¨</button>
    <button onclick="filterByCategory('æ ¼å¼è½‰æ›')">æ ¼å¼è½‰æ›</button>
    <button onclick="filterByCategory('å¤–éƒ¨ä¸²æ¥')">å¤–éƒ¨ä¸²æ¥</button>
    <button onclick="filterByCategory('è³‡æ–™æŸ¥è©¢')">è³‡æ–™æŸ¥è©¢</button>
  </div>

  <div class="tool-card" data-category="æ ¼å¼è½‰æ›">
    <h3>ğŸ“ Markdown to HTML</h3>
    <p>å°‡ Markdown æ ¼å¼è½‰æ›ç‚º HTMLï¼Œå¯ç”¨æ–¼å…§å®¹æ ¼å¼åŒ–è™•ç†ã€‚</p>
    <button onclick="openModal('Markdown to HTML', 'è¼¸å…¥ Markdown æ–‡å­—ï¼Œå›å‚³ HTML çµæœã€‚', '## é€™æ˜¯ä¸€å€‹æ¨™é¡Œ', '&lt;h2&gt;é€™æ˜¯ä¸€å€‹æ¨™é¡Œ&lt;/h2&gt;')">æŸ¥çœ‹è©³ç´°</button>
  </div>

  <div class="tool-card" data-category="å¤–éƒ¨ä¸²æ¥">
    <h3>ğŸ’¬ LINE Notify ç™¼é€è¨Šæ¯</h3>
    <p>ä¸²æ¥ LINE Notify å°ç”¨æˆ¶æˆ–ç¾¤çµ„æ¨æ’­è¨Šæ¯ã€‚</p>
    <button onclick="openModal(
      'LINE Notify ç™¼é€è¨Šæ¯',
      'è¨­å®š access_token èˆ‡è¨Šæ¯å…§å®¹ï¼Œå³å¯æ¨é€è‡³ LINE ç”¨æˆ¶ã€‚',
      'access_token: xxx\\nmessage: Hello',
      'status: 200\\nmessage: OK'
    )">æŸ¥çœ‹è©³ç´°</button>
  </div>

  <div class="tool-card" data-category="è³‡æ–™æŸ¥è©¢">
    <h3>ğŸŒ¦ï¸ å¤©æ°£æŸ¥è©¢å·¥å…·</h3>
    <p>æŸ¥è©¢ä¸­å¤®æ°£è±¡å±€æä¾›çš„å¤©æ°£é å ±è³‡è¨Šã€‚</p>
    <button onclick="openModal('å¤©æ°£æŸ¥è©¢å·¥å…·', 'è¼¸å…¥ç¸£å¸‚åç¨±ï¼ˆå¦‚ï¼šè‡ºåŒ—å¸‚ï¼‰ï¼Œå›å‚³æœªä¾† 36 å°æ™‚å¤©æ°£é æ¸¬ã€‚', 'åœ°é»ï¼šè‡ºåŒ—å¸‚', 'ä»Šæ™šå¤šé›²ï¼Œæ˜æ—¥æ°£æº« 25~31 åº¦')">æŸ¥çœ‹è©³ç´°</button>
  </div>

  <!-- Modal -->
  <div id="overlay"></div>
  <div id="modal">
    <h3 id="modal-title">å·¥å…·åç¨±</h3>
    <p id="modal-desc">å·¥å…·ç”¨é€”èªªæ˜</p>
    <div id="modal-input" style="margin-top: 10px;">
      <strong>ğŸ“¥ ç¯„ä¾‹è¼¸å…¥ï¼š</strong>
      <pre style="background:#f3f3f3;padding:10px;border-radius:5px;" id="example-input">ï¼ˆå°šç„¡ç¯„ä¾‹ï¼‰</pre>
    </div>
    <div id="modal-output" style="margin-top: 10px;">
      <strong>ğŸ“¤ ç¯„ä¾‹è¼¸å‡ºï¼š</strong>
      <pre style="background:#f3f3f3;padding:10px;border-radius:5px;" id="example-output">ï¼ˆå°šç„¡ç¯„ä¾‹ï¼‰</pre>
    </div>
    <button onclick="toggleAdvancedSettings()" style="margin-top: 15px;">âœï¸ é¡¯ç¤ºé€²éšè¨­å®š</button>
    <div id="advanced-settings" style="display:none; margin-top: 10px;">
      <label>API URLï¼š</label><br />
      <input type="text" id="api-url" style="width: 100%; margin-bottom: 8px;" placeholder="https://api.example.com/endpoint" />

      <label>Request Headerï¼ˆJSONï¼‰ï¼š</label><br />
      <textarea id="api-header" style="width: 100%; height: 60px; margin-bottom: 8px;" placeholder='{"Authorization": "Bearer ..."}'></textarea>

      <label>Schema / Payloadï¼ˆJSONï¼‰ï¼š</label><br />
      <textarea id="api-body" style="width: 100%; height: 100px;" placeholder='{"key": "value"}'></textarea>
      <button onclick="generateFromAI()" style="margin-top: 10px;">ğŸ¤– è«‹ AI å¹«æˆ‘è‡ªå‹•ç”Ÿæˆè¨­å®š</button>
    </div>
    <div id="assistant-selection" style="display:none; margin-top:10px;">
      <label for="assistant">é¸æ“‡ AI åŠ©ç†ï¼š</label>
      <select id="assistant">
        <option value="è¡ŒéŠ·åŠ©ç†">è¡ŒéŠ·åŠ©ç†</option>
        <option value="å®¢æœåŠ©ç†">å®¢æœåŠ©ç†</option>
      </select>
      <button onclick="confirmAddTool()">ç¢ºèªåŠ å…¥</button>
    </div>
    <button onclick="showAssistantOptions()">â• åŠ å…¥æ­¤å·¥å…·åˆ°æˆ‘çš„ AI åŠ©ç†</button>
    <button onclick="closeModal()" style="background:#ccc;color:#333;margin-left:10px;">å–æ¶ˆ</button>
  </div>

  <script>
    function openModal(title, desc, exampleInput = "ï¼ˆå°šç„¡ç¯„ä¾‹ï¼‰", exampleOutput = "ï¼ˆå°šç„¡ç¯„ä¾‹ï¼‰") {
      document.getElementById("modal-title").innerText = title;
      document.getElementById("modal-desc").innerText = desc;
      document.getElementById("example-input").innerText = exampleInput;
      document.getElementById("example-output").innerText = exampleOutput;
      // æ¸…ç©ºé€²éšè¨­å®šæ¬„ä½
      document.getElementById("api-url").value = "";
      document.getElementById("api-header").value = "";
      document.getElementById("api-body").value = "";
      document.getElementById("modal").style.display = "block";
      document.getElementById("overlay").style.display = "block";
    }
    function closeModal() {
      document.getElementById("modal").style.display = "none";
      document.getElementById("overlay").style.display = "none";
      document.getElementById("advanced-settings").style.display = "none";
      document.getElementById("assistant-selection").style.display = "none";
    }
    function showAssistantOptions() {
      document.getElementById("assistant-selection").style.display = "block";
    }
    function confirmAddTool() {
      const assistant = document.getElementById("assistant").value;
      alert(`âœ… å·¥å…·å·²åŠ å…¥ ${assistant}ï¼`);
      closeModal();
    }
    function filterByCategory(category) {
      const cards = document.querySelectorAll('.tool-card');
      cards.forEach(card => {
        const cardCategory = card.getAttribute('data-category');
        if (category === 'å…¨éƒ¨' || cardCategory === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }
    function filterBySearch(query) {
      const cards = document.querySelectorAll('.tool-card');
      const lowerQuery = query.toLowerCase();
      cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        if (text.includes(lowerQuery)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    }
    function toggleAdvancedSettings() {
      const section = document.getElementById("advanced-settings");
      section.style.display = section.style.display === "none" ? "block" : "none";
    }

    function generateFromAI() {
      const title = document.getElementById("modal-title").innerText;
      const apiInfo = {
        "Markdown to HTML": {
          url: "https://api.example.com/markdown",
          header: '{"Content-Type": "application/json"}',
          body: '{"markdown": "## Hello"}'
        },
        "LINE Notify ç™¼é€è¨Šæ¯": {
          url: "https://notify-api.line.me/api/notify",
          header: '{"Authorization": "Bearer YOUR_TOKEN"}',
          body: '{"message": "Hello"}'
        },
        "å¤©æ°£æŸ¥è©¢å·¥å…·": {
          url: "https://opendata.cwa.gov.tw/api/v1/rest/datastore/F-C0032-001",
          header: '{"Authorization": "CWA-API-KEY"}',
          body: '{"locationName": "è‡ºåŒ—å¸‚"}'
        }
      };
      const config = apiInfo[title] || {};
      if (config.url) document.getElementById("api-url").value = config.url;
      if (config.header) document.getElementById("api-header").value = config.header;
      if (config.body) document.getElementById("api-body").value = config.body;
    }
  </script>

</body>
</html>
